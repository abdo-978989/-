# نظام إدارة المناديب وتحصيل الإيجارات

تطبيق ويب تفاعلي وسهل الاستخدام مصمم لمساعدة الأفراد أو الشركات الصغيرة في تتبع وإدارة حسابات المناديب الذين يعملون مع تطبيقات التوصيل المختلفة (مثل مرسول، جاهز، ذا شيفز، كيتا) وتحصيل الإيجارات اليومية منهم، بالإضافة إلى إدارة السلف والخصومات والمكافآت وتسوية الحسابات.

## الهدف

توفير أداة رقمية مبسطة لاستبدال الطرق اليدوية (مثل الجداول الورقية أو جداول البيانات) في إدارة حسابات المناديب، مما يسهل عملية التتبع، الحساب، والتسوية.

## الميزات الأساسية

-   **لوحة القيادة (Dashboard):**
    -   عرض ملخص إحصائي للحسابات (إجمالي الحسابات المسجلة، المفعلة، النشطة).
    -   عرض إجمالي القيم المالية (إجمالي الإيجار المستحق، إجمالي السلف، إجمالي الخصومات، إجمالي المكافآت، صافي المستحق).
    -   عرض عدد أيام العمل الإجمالية للمناديب النشطين.
    -   رسم بياني (شريطي) يوضح توزيع الحسابات النشطة حسب نوع التطبيق.
    -   إمكانية تصفية بيانات لوحة القيادة حسب التطبيقات المختارة.
-   **إدارة الحسابات (لكل تطبيق):**
    -   تبويبات منفصلة لكل تطبيق (مرسول، جاهز، ذا شيفز، كيتا).
    -   عرض الحسابات مقسمة حسب حالتها (غير مفعل، مفعل، نشط).
    -   جداول لعرض بيانات الحسابات الأساسية (رقم الهوية، اسم صاحب الحساب، إلخ).
    -   إجراءات سريعة على كل حساب في الجدول (تفعيل/إلغاء تفعيل، تنشيط/إيقاف نشاط، حذف، تعديل).
-   **إضافة وتعديل الحسابات:**
    -   نافذة منبثقة (Modal) لإضافة حساب جديد أو تعديل حساب موجود.
    -   حقول لإدخال بيانات صاحب الحساب (الهوية، الاسم، الجوال، نوع ورقم المركبة).
    -   حقول لإدخال بيانات المندوب (الهوية، الاسم، الجوال، نوع ورقم المركبة) تظهر فقط للحسابات النشطة.
    -   حقول لإدخال بيانات النشاط (الإيجار اليومي، تاريخ البداية، تاريخ النهاية الاختياري، عدد الطلبات الاختياري) تظهر فقط للحسابات النشطة.
    -   اختيار حالة الحساب (غير مفعل، مفعل، نشط).
    -   التحقق الأساسي من صحة المدخلات ومنع إضافة حسابات مكررة بنفس نوع التطبيق ورقم الهوية.
-   **المدفوعات والتسويات:**
    -   قسم مخصص للبحث عن حسابات المناديب النشطين باستخدام رقم الهوية أو رقم الإقامة.
    -   عرض تفاصيل الحساب المختار بشكل منظم.
    -   إمكانية تعديل أو حذف الحساب المختار.
    -   إمكانية تغيير حالة الحساب بين "نشط" و "مفعل".
    -   قوائم منفصلة لإدارة المعاملات (السلف، الخصومات، المكافآت) للحساب المختار.
    -   إمكانية إضافة معاملة جديدة (مبلغ، تاريخ، ملاحظات اختيارية) لكل نوع من المعاملات.
    -   إمكانية حذف معاملة موجودة.
    -   حساب تلقائي لتفاصيل التسوية (أيام العمل، إجمالي الإيجار، إجمالي السلف، إجمالي الخصومات، إجمالي المكافآت، صافي المستحق).
    -   عرض صافي المبلغ المستحق بلون يعكس ما إذا كان المبلغ للمالك (إيجابي) أو للمندوب (سلبي).
    -   زر لنسخ تفاصيل التسوية إلى الحافظة.
    -   زر لتصدير تقرير التسوية كملف PDF (مع ملاحظة الحاجة لدعم اللغة العربية).
-   **التخزين المحلي:**
    -   حفظ بيانات الحسابات تلقائيًا في Local Storage للمتصفح.
    -   تحميل البيانات تلقائيًا من Local Storage عند فتح التطبيق.
-   **دعم اللغات والثيمات:**
    -   دعم اللغة العربية والإنجليزية مع إمكانية التبديل بينهما.
    -   تطبيق اتجاه النص المناسب (RTL/LTR) بناءً على اللغة المختارة.
    -   دعم الوضع الليلي والنهاري (Dark/Light Theme) مع إمكانية التبديل بينهما وتطبيق الألوان المناسبة باستخدام متغيرات CSS.
    -   حفظ تفضيلات اللغة والثيم في Local Storage.

## التقنيات والمكتبات المستخدمة

-   **الواجهة الأمامية (Frontend):**
    -   React: لبناء واجهة المستخدم التفاعلية والمكونات.
    -   Tailwind CSS: لتصميم الواجهة وتطبيق الأنماط بسرعة وسهولة.
    -   Chart.js: لعرض الرسم البياني في لوحة القيادة.
    -   SweetAlert2: لعرض رسائل التنبيه والتأكيد والإشعارات (Toasts) بشكل جذاب.
    -   Day.js: لمعالجة التواريخ وحساب أيام العمل.
    -   Local Storage API: لتخزين البيانات في المتصفح.
    -   jsPDF: لتصدير تقارير التسوية إلى PDF.
    -   Clipboard.js: لنسخ النصوص إلى الحافظة.
    -   Sortable.js: (اختياري) لإضافة إمكانية سحب وإعادة ترتيب عناصر القوائم (مثل المعاملات).
    -   Animate.css: لإضافة تأثيرات حركية على عناصر الواجهة.
    -   Font Awesome: لاستخدام الأيقونات.

## هيكل المشروع (مقترح)

```
my-agent-app/
├── public/
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── components/
│   ├── utils/
│   ├── App.js
│   └── index.js
├── .gitignore
├── package.json
└── README.md
```

## Available Scripts (مثال لـ Create React App)

-   `npm start`: Runs the app in development mode.
-   `npm test`: Launches the test runner.
-   `npm run build`: Builds the app for production.

## التحسينات المستقبلية المقترحة

-   صفحة تفاصيل حساب موسعة.
-   ميزة التعديل على المعاملات.
-   تصفية وفرز الجداول.
-   ميزة الأرشفة / الحسابات غير النشطة.
-   تحسين دعم اللغة العربية في PDF.
-   تحسينات إضافية على واجهة المستخدم وتجربة المستخدم.
-   كتابة اختبارات الوحدة والتكامل.
-   إدارة حالة أكثر تقدماً للمشاريع الكبيرة. 